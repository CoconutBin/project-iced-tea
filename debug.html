<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <button id="ioscheck">using ios?</button>
    
    <p id="alpha">null</p>
    <p id="beta">null</p>
    <p id="gamma">null</p>
    <P id="errors">error</P>
</body>
<script>
    const alpha = document.getElementById("alpha")
    const beta = document.getElementById("beta")
    const gamma = document.getElementById("gamma")

    function permission () {
    if ( typeof( DeviceMotionEvent ) !== "undefined" && typeof( DeviceMotionEvent.requestPermission ) === "function" ) {
        // (optional) Do something before API request prompt.
        DeviceMotionEvent.requestPermission()
            .then( response => {
            // (optional) Do something after API prompt dismissed.
            if ( response == "granted" ) {
              window.addEventListener("deviceorientation", orientation)
            }
        })
            .catch( error => document.getElementById("errors").innerText = error)
    } else {
        alert( "DeviceMotionEvent is not defined" );
    }
  }
  const btn = document.getElementById( "ioscheck" );
  btn.addEventListener( "click", permission );
    

  window.addEventListener("deviceorientation", orientation)

    function orientation(e) {
        alpha.innerText = e.aplha
        beta.innerText = e.beta
        gamma.innerText = e.gamma
    }
</script>

</html>
